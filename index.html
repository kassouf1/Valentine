<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>For You</title>

  <link rel="stylesheet" href="style.css" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

  <meta name="theme-color" content="#ff2f73" />
</head>

<body>
  <!-- Romantic animated background -->
  <div class="bg" aria-hidden="true">
    <div class="bgGlow"></div>
    <div id="heartsLayer" class="heartsLayer"></div>
  </div>

  <main class="card">
    <header class="top">
      <div class="pill">For: <span id="herName">My Favorite Person</span></div>
      <div class="progress" aria-label="Progress">
        <div class="bar" id="progressBar"></div>
      </div>
    </header>

    <!-- 1) READY -->
    <section class="screen active" id="screen-ready">
      <h1>Are you ready for a surprise?</h1>
      <p class="sub">Be honest.</p>

      <div class="arena" id="arena">
        <button class="btn yes" id="readyYes">Yes</button>
        <button class="btn no" id="readyNo" aria-label="No">No</button>
      </div>

      <p class="tiny" id="readyHint"></p>

      <div class="nav">
        <button class="btn" id="readyContinue">Continue</button>
      </div>
    </section>

    <!-- 2) PASSWORD LOCK -->
    <section class="screen" id="screen-lock">
      <h2>Quick lock</h2>
      <p class="sub">Enter the word/phrase I always say (our inside joke).</p>

      <div class="field">
        <input id="passInput" type="text" placeholder="type it here" autocomplete="off" />
        <button class="btn" id="passBtn">Unlock</button>
      </div>

      <p class="tiny" id="passMsg"></p>

      <div class="nav">
        <button class="btn ghost" data-back>Back</button>
      </div>
    </section>

    <!-- 3) CHAPTERS (3) -->
    <section class="screen" id="screen-chapters">
      <h2>Our Love Story</h2>
      <p class="sub" id="chapterCounter">Chapter 1 / 3</p>

      <article class="panel">
        <div class="kicker" id="chapterKicker">Chapter 1</div>
        <h3 id="chapterTitle">Title</h3>
        <p id="chapterText" class="muted"></p>

        <div class="audioRow">
          <button class="btn" id="chapterPlay">Play chapter song</button>
          <button class="btn ghost" id="chapterPause">Pause</button>
        </div>

        <audio id="chapterAudio" preload="metadata"></audio>

        <div class="meter"><div id="chapterProgress"></div></div>
        <p class="tiny" id="chapterHint">Play the song to unlock the next chapter.</p>

        <div class="nav">
          <button class="btn ghost" data-back>Back</button>
          <button class="btn ghost" id="chapterPrev" disabled>Prev</button>
          <button class="btn" id="chapterNext" disabled>Next</button>
        </div>
      </article>
    </section>

    <!-- 4) GALLERY (15 polaroids) -->
    <section class="screen" id="screen-gallery">
      <h2>Little memories</h2>
      <p class="sub">Tap a photo to flip it.</p>

      <div class="polaroidGrid" id="galleryGrid"></div>

      <div class="nav">
        <button class="btn ghost" data-back>Back</button>
        <button class="btn" data-next>Next</button>
      </div>
    </section>

    <!-- 5) HIDDEN NOTE -->
    <section class="screen" id="screen-note">
      <h2>A note for you</h2>
      <p class="sub">Press and hold for 3 seconds to reveal.</p>

      <article class="panel">
        <p id="loveNote" class="blurred"></p>

        <button class="btn" id="holdBtn">Press and hold</button>
        <div class="meter"><div id="holdFill"></div></div>
        <p class="tiny" id="holdMsg"></p>
      </article>

      <div class="nav">
        <button class="btn ghost" data-back>Back</button>
        <button class="btn" data-next id="noteNext">Next</button>
      </div>
    </section>

    <!-- 6) QUIZ -->
    <section class="screen" id="screen-quiz">
      <h2>Mini quiz</h2>
      <p class="sub">Score at least <b id="quizNeed">2</b>/3 to unlock the next part.</p>

      <div id="quizBox" class="quizBox"></div>
      <p class="tiny" id="quizMsg"></p>

      <div class="nav">
        <button class="btn ghost" data-back>Back</button>
        <button class="btn" id="quizSubmit">Submit</button>
      </div>
    </section>

    <!-- 7) DATE BUILDER -->
    <section class="screen" id="screen-date">
      <h2>Choose our date</h2>
      <p class="sub">Pick your favorites. I’ll handle the rest.</p>

      <div class="pickGrid">
        <article class="panel">
          <h3>Vibe</h3>
          <div class="chips" id="pickVibe"></div>
        </article>

        <article class="panel">
          <h3>Food</h3>
          <div class="chips" id="pickFood"></div>
        </article>

        <article class="panel">
          <h3>Ending</h3>
          <div class="chips" id="pickEnd"></div>
        </article>
      </div>

      <article class="panel">
        <h3>Our plan</h3>
        <p id="planText" class="muted"></p>
      </article>

      <div class="nav">
        <button class="btn ghost" data-back>Back</button>
        <button class="btn" data-next>Next</button>
      </div>
    </section>

    <!-- 9) MUSIC MOMENT + FINAL -->
   <!-- 9) MUSIC MOMENT + FINAL -->
<section class="screen" id="screen-final">
  <h2>One last thing</h2>
  <p class="sub">Tap play. Then the real question appears.</p>

  <article class="panel finalPanel">
    <div class="finalMusicRow">
      <audio id="finalAudio" preload="metadata"></audio>
      <button class="btn" id="finalPlay">Play our moment</button>
      <p class="tiny" id="finalMsg"></p>
    </div>

    <div id="finalAsk" class="finalAsk hidden">
      <div class="valentineCard">
        <div class="seal">
          <div class="sealHeart" aria-hidden="true">♥</div>
          <div class="sealLine">For you. Only you.</div>
        </div>

        <h2 class="bigQ">Will you be my Valentine?</h2>

        <p class="planLine" id="finalPlanLine"></p>

        <div class="two finalBtns">
          <button class="btn yes" id="finalYes">Yes</button>
          <button class="btn no" id="finalNo">No</button>
        </div>

        <div id="finalBox" class="loveLetter hidden">
          <div class="letterHead">
            <div class="letterTitle">My promise</div>
            <div class="letterSub">I’ll make it special.</div>
          </div>

          <p id="finalDetails" class="muted"></p>

          <div class="letterFooter tiny">
            Screenshot this and send me “YES”.
          </div>
        </div>
      </div>
    </div>
  </article>

  <div class="nav">
    <button class="btn ghost" data-back>Back</button>
  </div>
</section><!-- 9) MUSIC MOMENT + FINAL -->
<section class="screen" id="screen-final">
  <h2>One last thing</h2>
  <p class="sub">Tap play. Then the real question appears.</p>

  <article class="panel finalPanel">
    <div class="finalMusicRow">
      <audio id="finalAudio" preload="metadata"></audio>
      <button class="btn" id="finalPlay">Play our moment</button>
      <p class="tiny" id="finalMsg"></p>
    </div>

    <div id="finalAsk" class="finalAsk hidden">
      <div class="valentineCard">
        <div class="seal">
          <div class="sealHeart" aria-hidden="true">♥</div>
          <div class="sealLine">For you. Only you.</div>
        </div>

        <h2 class="bigQ">Will you be my Valentine?</h2>

        <p class="planLine" id="finalPlanLine"></p>

        <div class="two finalBtns">
          <button class="btn yes" id="finalYes">Yes</button>
          <button class="btn no" id="finalNo">No</button>
        </div>

        <div id="finalBox" class="loveLetter hidden">
          <div class="letterHead">
            <div class="letterTitle">My promise</div>
            <div class="letterSub">I’ll make it special.</div>
          </div>

          <p id="finalDetails" class="muted"></p>

          <div class="letterFooter tiny">
            Screenshot this and send me “YES”.
          </div>
        </div>
      </div>
    </div>
  </article>

  <div class="nav">
    <button class="btn ghost" data-back>Back</button>
  </div>
</section>
  </main>

  <!-- Toast popup -->
  <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="script.js"></script>
</body>
</html>